generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

enum Sector {
  Privado
  Estatal
}

enum Ambito {
  Urbano
  Rural_Aglomerado
  Rural_Disperso
}

enum Genero {
  Masculino
  Femenino
  Otro
}

enum Turno {
  Tarde
  Ma√±ana
}

enum Especialidad {
  Informatica
  Electronica
}

enum Ciclo {
  Basico
  Superior
}

model Padron {
  id                    String  @id @default(uuid())
  departamento          String
  municipio             String?
  codigoJurisdiccional  String
  cueAnexo              Int
  nombreEstablecimiento String
  ambito                Ambito
  sector                Sector
  ofertas               String
  localidad             String
  domicilio             String

  @@unique([id])
}

model Curso {
  id                String   @id @default(uuid()) @unique
  curso Int
  division Int
  ciclo Ciclo
  especialidad Especialidad

  estudiantes Estudiante[]
}

model Estudiante {
  id                 String   @id @default(uuid())
  nombreCompleto     String
  dni                BigInt
  fechaNacimiento    DateTime
  edad               Int
  genero             Genero
  direccion          String
  telefonoEstudiante String?
  correoEstudiante   String
  escuelaProcedencia String
  egreso             Int
  repitente          Boolean  @default(false)

  nombreTutor   String
  dniTutor      BigInt
  telefonoTutor String
  correoTutor   String?

  turno         Turno
  cursoId String?

  curso Curso? @relation(fields: [cursoId], references: [id])

  estudianteFotoDniUrl String
  tutorFotoDniUrl String
  partidaNacimientoUrl String
  constanciaUrl String
  fichaMedicaUrl String?  
  
  @@unique([id, dni])
}
